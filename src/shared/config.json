{
  "allowed_providers": [
    { "code": "ii", "name": "Interactive Investor" },
    { "code": "hl", "name": "Hargreaves Lansdown" }
  ],
  "scheduling": {
    "enabled": false,
    "cron": "0 8 * * 6",
    "runOnStartupIfMissed": true,
    "startupDelayMinutes": 10
  },
  "retry": {
    "delayMinutes": 5,
    "maxAttempts": 5
  },
  "scrapeDelayProfile": "cron",
  "scraperSites": {
    "_readme": "Known website patterns for price/benchmark scraping. Tech-savvy users can edit this section to add new sites or fix broken selectors. The app matches URLs against these patterns and auto-fills the selector.",
    "_format": {
      "pattern": "Domain or path pattern to match (matched against URL)",
      "name": "Human-readable site name",
      "selector": "CSS selector for the price/value element",
      "waitStrategy": "domcontentloaded (fast) or networkidle (for heavy JS sites)",
      "notes": "Optional notes about the site or selector"
    },
    "sites": [
      {
        "pattern": "google.com/finance",
        "name": "Google Finance",
        "selector": ".fxKbKc",
        "waitStrategy": "domcontentloaded",
        "notes": "Works for stocks, indices, ETFs. Price is in the main quote display."
      },
      {
        "pattern": "londonstockexchange.com/indices",
        "name": "London Stock Exchange (Indices)",
        "selector": "#ftse-ticker > div > section > div > div.wrapper.flex-container.ticker-header > span.ticker-price > div > span.last-price.larger-font-size.bold-font-weight > span",
        "waitStrategy": "networkidle",
        "notes": "FTSE 100, FTSE 250, FTSE All Share index pages. Uses #ftse-ticker container."
      },
      {
        "pattern": "londonstockexchange.com/stock",
        "name": "London Stock Exchange (Stocks)",
        "selector": "#ticker > div > section > div.ticker-main > div.wrapper.flex-container.ticker-header > span.ticker-price > div > span.last-price.larger-font-size.bold-font-weight > span",
        "waitStrategy": "networkidle",
        "notes": "Individual stock pages on LSE. Uses #ticker container (different from indices)."
      },
      {
        "pattern": "fidelity.co.uk/factsheet-data",
        "name": "Fidelity UK",
        "selector": "div.detail__data-container div.grid-x.grid-margin-x > div > div > div:nth-child(1) > h3",
        "waitStrategy": "networkidle",
        "notes": "Fund, ETF and equity factsheet pages on Fidelity UK."
      },
      {
        "pattern": "vanguardinvestor.co.uk",
        "name": "Vanguard UK",
        "selector": "section dl div:nth-child(1) dd",
        "waitStrategy": "networkidle",
        "notes": "Fund price pages. Selector targets the current price in the price/performance section."
      },
      {
        "pattern": "hl.co.uk/shares/shares-search-results",
        "name": "Hargreaves Lansdown (Shares)",
        "selector": "span.bid-price",
        "waitStrategy": "domcontentloaded",
        "notes": "Share price pages on HL."
      },
      {
        "pattern": "hl.co.uk/funds/fund-discounts",
        "name": "Hargreaves Lansdown (Funds)",
        "selector": "span.bid-price",
        "waitStrategy": "domcontentloaded",
        "notes": "Fund price pages on HL."
      },
      {
        "pattern": "morningstar.co.uk",
        "name": "Morningstar UK",
        "selector": "div.last-price",
        "waitStrategy": "networkidle",
        "notes": "Fund and stock pages on Morningstar UK."
      },
      {
        "pattern": "ii.co.uk",
        "name": "Interactive Investor",
        "selector": "[data-testid='quote-price']",
        "waitStrategy": "networkidle",
        "notes": "Stock and fund pages on ii. May require login for some content."
      },
      {
        "pattern": "ajbell.co.uk",
        "name": "AJ Bell",
        "selector": ".price-value",
        "waitStrategy": "networkidle",
        "notes": "Stock and fund pages on AJ Bell."
      }
    ]
  }
}
