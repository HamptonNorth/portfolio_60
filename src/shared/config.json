{
  "allowed_providers": [
    { "code": "ii", "name": "Interactive Investor" },
    { "code": "hl", "name": "Hargreaves Lansdown" }
  ],
  "scheduling": {
    "enabled": true,
    "cron": "0 6,11,20 * * *",
    "runOnStartupIfMissed": true,
    "startupDelayMinutes": 10
  },
  "retry": {
    "delayMinutes": 5,
    "maxAttempts": 5
  },
  "isaAllowance": {
    "annualLimit": 20000,
    "taxYearStartMonth": 4,
    "taxYearStartDay": 6
  },
  "scrapeDelayProfile": "cron",
  "scraperTesting": {
    "_readme": "Enable the Scraper Testing page â€” a sandbox for testing scraper configurations without affecting live portfolio data. Disabled by default; set enabled to true via Edit Settings to show the page.",
    "enabled": true
  },
  "lists": {
    "_readme": "Embedded spreadsheet lists displayed under the Lists menu. Each entry has a title (shown in the menu), an iframe (the full embed HTML from Google Sheets or Excel Online 'Publish to Web'), a spreadsheet type ('google' or 'microsoft'), and an optional range. For Google Sheets, range is a cell range e.g. 'A3:F14'. For Microsoft Excel, range is a named range defined in the workbook e.g. 'MyTable'.",
    "items": [
      {
        "title": "Non-SIPP Pensions",
        "spreadsheet": "google",
        "iframe": "<iframe src=\"https://docs.google.com/spreadsheets/d/e/2PACX-1vT0tY4WKwEdvPZM61Gt_DoyuUsmysmuA2sAPa-tVmtCie-s2RVB49BQ7ETHRH7wps58_u94e2ICR1PD/pubhtml?gid=2045542612&amp;single=true&amp;widget=true&amp;headers=false\"></iframe>",
        "range": "A2:F14"
      },
      {
        "title": "Base Costs",
        "spreadsheet": "google",
        "iframe": "<iframe src='https://docs.google.com/spreadsheets/d/e/2PACX-1vSZEUR829SHD4LcQBwsJMDtms5r76oyd6QqDsOrPZe5rdZjM9rzsOk9VKuW_TGsmH667ueufflwrtja/pubhtml?gid=1550914488&amp;single=true&amp;widget=true&amp;headers=false'></iframe>",
        "range": ""
      },
      {
        "title": "Charity Giving",
        "spreadsheet": "google",
        "iframe": "<iframe src=\"https://docs.google.com/spreadsheets/d/e/2PACX-1vRiacahHMJPFlzQzmlyPn37jTNIuywUiCtt393fzTdgIZZR2Xr4rLLu--b5-Vnwi29CKrQneTWduPSb/pubhtml?gid=284599303&amp;single=true&amp;widget=true&amp;headers=false\"></iframe>",
        "range": ""
      },
      {
        "title": "Test Excel",
        "spreadsheet": "microsoft",
        "iframe": "<iframe width=\"402\" height=\"346\" frameborder=\"0\" scrolling=\"no\" src=\"https://1drv.ms/x/c/b7bf8885da4911af/IQSWkWXIieaHTZ9Zk7g9sFNvAU4q65xIrWDw01XnX9t0QWU?wdAllowInteractivity=False&wdHideGridlines=True&wdHideHeaders=True&wdDownloadButton=True&wdInConfigurator=True&wdInConfigurator=True\"></iframe>",
        "range": ""
      }
    ]
  },
  "docs": {
    "_readme": "Documentation subsystem categories. Each key under 'categories' is a folder name under docs/. The 'style' sets the default markdown CSS (github or modest), and 'label' is the display name in the Docs menu.",
    "categories": {
      "guide": { "style": "github", "label": "User Guide" },
      "notes": { "style": "modest", "label": "Financial Notes" }
    }
  },
  "scraperSites": {
    "_readme": "Known website patterns for price/benchmark scraping. Tech-savvy users can edit this section to add new sites or fix broken selectors. The app matches URLs against these patterns and auto-fills the selector.",
    "_format": {
      "pattern": "Domain or path pattern to match (matched against URL)",
      "name": "Human-readable site name",
      "selector": "CSS selector for the price/value element",
      "waitStrategy": "domcontentloaded (fast) or networkidle (for heavy JS sites)",
      "notes": "Optional notes about the site or selector"
    },
    "sites": [
      {
        "pattern": "markets.ft.com/data/funds",
        "name": "FT Markets (Funds)",
        "selector": "XXspan.mod-ui-data-list__value",
        "waitStrategy": "networkidle",
        "notes": "Fund/ETF tearsheet pages. Auto-used when public_id contains an ISIN."
      },
      {
        "pattern": "markets.ft.com/data/equities",
        "name": "FT Markets (Equities)",
        "selector": "span.mod-ui-data-list__value",
        "waitStrategy": "networkidle",
        "notes": "Share/investment trust tearsheet pages. Auto-used when public_id contains a ticker."
      },
      {
        "pattern": "google.com/finance",
        "name": "Google Finance",
        "selector": ".fxKbKc",
        "waitStrategy": "domcontentloaded",
        "notes": "Works for stocks, indices, ETFs. Price is in the main quote display."
      },
      {
        "pattern": "londonstockexchange.com/indices",
        "name": "London Stock Exchange (Indices)",
        "selector": "#ftse-ticker > div > section > div > div.wrapper.flex-container.ticker-header > span.ticker-price > div > span.last-price.larger-font-size.bold-font-weight > span",
        "waitStrategy": "networkidle",
        "notes": "FTSE 100, FTSE 250, FTSE All Share index pages. Uses #ftse-ticker container."
      },
      {
        "pattern": "londonstockexchange.com/stock",
        "name": "London Stock Exchange (Stocks)",
        "selector": "#ticker > div > section > div.ticker-main > div.wrapper.flex-container.ticker-header > span.ticker-price > div > span.last-price.larger-font-size.bold-font-weight > span",
        "waitStrategy": "networkidle",
        "notes": "Individual stock pages on LSE. Uses #ticker container (different from indices)."
      },
      {
        "pattern": "fidelity.co.uk/factsheet-data",
        "name": "Fidelity UK",
        "selector": "div.detail__data-container div.grid-x.grid-margin-x > div > div > div:nth-child(1) > h3",
        "waitStrategy": "networkidle",
        "notes": "Fund, ETF and equity factsheet pages on Fidelity UK."
      },
      {
        "pattern": "vanguardinvestor.co.uk",
        "name": "Vanguard UK",
        "selector": "section dl div:nth-child(1) dd",
        "waitStrategy": "networkidle",
        "notes": "Fund price pages. Selector targets the current price in the price/performance section."
      },
      {
        "pattern": "hl.co.uk/shares/shares-search-results",
        "name": "Hargreaves Lansdown (Shares)",
        "selector": "span.bid-price",
        "waitStrategy": "domcontentloaded",
        "notes": "Share price pages on HL."
      },
      {
        "pattern": "hl.co.uk/funds/fund-discounts",
        "name": "Hargreaves Lansdown (Funds)",
        "selector": "span.bid-price",
        "waitStrategy": "domcontentloaded",
        "notes": "Fund price pages on HL."
      },
      {
        "pattern": "morningstar.co.uk",
        "name": "Morningstar UK",
        "selector": "div.last-price",
        "waitStrategy": "networkidle",
        "notes": "Fund and stock pages on Morningstar UK."
      },
      {
        "pattern": "ii.co.uk",
        "name": "Interactive Investor",
        "selector": "[data-testid='quote-price']",
        "waitStrategy": "networkidle",
        "notes": "Stock and fund pages on ii. May require login for some content."
      },
      {
        "pattern": "ajbell.co.uk",
        "name": "AJ Bell",
        "selector": ".price-value",
        "waitStrategy": "networkidle",
        "notes": "Stock and fund pages on AJ Bell."
      }
    ]
  }
}
